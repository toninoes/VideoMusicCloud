<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head th:include="bootstrap :: head">
	<meta charset="utf-8" />
	<title>Perfil</title>
</head>
<body>		
	<!-- THE LOADER -->	
	<div th:include="spinner :: body"></div>
	<!-- THE HEADER -->
	<header>
		<div th:class="@{container-fluid custom-container}">
			<div th:class="@{row no_row row-header}">
				<div th:class="brand-be">
					<a th:href="@{/login}"><img th:src="@{/img/logo.png}" alt="logo" th:class="be_logo"></a>
				</div>
				<div th:class="header-menu-block">
					<button th:class="@{cmn-toggle-switch cmn-toggle-switch__htx}"></button>
					<ul th:class="header-menu" id="one">
						<li><a th:href="@{/videos/misvideos}">Inicio</a></li>
						<li><a th:href="@{/videos}">Listas</a></li>
						<li th:class="active-header"><a th:href="@{'/usuarios/perfil/' + ${logueado.id} + '/' + ${logueado.id}}">Perfil</a></li>
						<li><a th:href="@{/videos/subidaVideos}">Subir Video</a></li>
						<li><a th:href="@{#}">Suscripción</a></li>
					</ul>
				</div>
				<a th:class="@{login-header-block login_block btn-login btn color-1 size-2 hover-2}" href="/logout">
				<i th:class="@{fa fa-user}"></i>Log out</a>
			</div>
		</div>
	</header>
	<!-- MAIN CONTENT -->
	<div th:id="@{content-block}">
		<div th:class="@{container be-detail-container}">
			<div th:class="@{row}">
				<div th:class="@{col-xs-12 col-md-4 left-feild}">
					<div th:class="@{be-user-block style-3}">
						<div th:class="@{be-user-detail}">
							<a th:href="@{#}" th:class="@{be-ava-user style-2}" th:switch="${usuario.foto}">
								<img th:case="'img/ava_10.jpg'" th:src="@{/img/ava_10.jpg}" alt="">
								<img th:case="*" th:src="@{'/usuarios/fotos/' + ${usuario.foto}}" alt="">
							</a>	
							<form method="POST" enctype="multipart/form-data" th:action="@{'/usuarios/perfil/' + ${logueado.id} + '/' + ${usuario.id}}" th:if="${sigue} == 'hidden'">
								<label th:class="@{be-ava-left btn color-1 size-2 hover-1}">
									<i th:class="@{fa fa-pencil}"></i>Foto
									<input type="file" name="foto" id="foto" hidden="hidden">
								</label>
								<label th:class="@{be-ava-right btn btn-share color-4 size-2 hover-1}">
									<i th:class="@{fa fa-save}"></i>Guardar
		    						<input type="submit" value="subirfoto" name="subirfoto" id="subirfoto" hidden="hidden">
								</label>
							</form>
							<p th:class="be-use-name" th:text="${usuario.nombre}"></p>
							<div th:if="@{${logueado.id} != ${usuario.id}}" th:switch="${sigue}">
								<div th:case="seguir">
									<a th:href="@{'/usuarios/perfil/' + ${logueado.id} + '/'+ ${usuario.id} + '/' + ${sigue}}" 
									   th:class="@{btn btn-share color-4 size-2 hover-1 custom-font}">
										<i th:class="@{fa fa-share}"></i>Seguir
									</a>
								</div>
								<div th:case="dejar">
									<a th:href="@{'/usuarios/perfil/' + ${logueado.id} + '/'+ ${usuario.id} + '/' + ${sigue}}" 
									   th:class="@{btn btn-share color-1 size-2 hover-1 custom-font}">
										<i th:class="@{fa fa-share}"></i>Dejar de Seguir
									</a>
								</div>
								<div th:case="*"></div>
							</div>
							<p th:class="be-use-name"></p>
							<div th:class="@{custom-margin-bottom}"></div>
							<div th:class="be-user-social">							
								<a th:class="@{social-btn color-1}" th:href="@{'https://es-es.facebook.com'}"><i th:class="@{fa fa-facebook}"></i></a>
								<a th:class="@{social-btn color-2}" th:href="@{'https://twitter.com'}"><i th:class="@{fa fa-twitter}"></i></a>
							</div>
							<div th:switch="${rol}">
								<a th:case="'ADMIN'" th:class="be-user-site" th:href="@{/admin/home}">
									<i th:class="@{fa fa-link}"></i> Portal de Adminitración
								</a>
								<a th:case="*" th:class="be-user-site" th:href="@{/videos/misvideos}">
									<i th:class="@{fa fa-link}"></i> VideoMusicCloud
								</a>
							</div>
						</div>
						<div th:class="be-user-statistic">
							<div th:class="@{stat-row clearfix}">
								<i th:class="@{stat-icon icon-views-b}">
								</i>Visitas<span th:class="stat-counter">225</span>
							</div>
							<div th:class="@{stat-row clearfix}">
								<i th:class="@{stat-icon icon-followers-b}">
								</i>Seguidores<span th:class="stat-counter">225</span>
							</div>
							<div th:class="@{stat-row clearfix}">
								<i th:class="@{stat-icon icon-following-b}">
								</i>Siguiendo<span th:class="stat-counter">225</span>
							</div>
						</div>
					</div>
					<div th:class="be-desc-block">
						<div th:class="be-desc-author">
							<div th:class="be-desc-label">Sobre mí</div>
							<div th:class="clearfix"></div>
							<div th:class="be-desc-text"></div>
						</div>					
					</div>
					<a th:class="@{btn full color-1 size-1 hover-1}"><i th:class="@{fa fa-plus}"></i>Añadir Información</a>										
				</div>
				<div th:class="@{col-xs-12 col-md-8}">
                    <div th:class="@{tab-wrapper style-1}">
                    
                        <div th:class="@{tabs-content clearfix}">
                            <div th:class="@{tab-info active}"> 
								<div th:class="@{row}">
									<div th:class="@{col-ml-12 col-xs-6 col-sm-4}" th:each="video : ${videos}">
										<div th:class="@{be-post style-5}">
											<div align="center" th:class="@{be-img-block custom-video-perfil}">
												<video controls>
													<source th:src="'/videos/' + ${video.nombre}">
												</video>
											</div>
											<div th:class="@{be-rowline}">
												<span th:class="@{rowline-text}" th:text="${video.titulo}"></span>
												<span th:class="@{rowline-text pull-right}" th:each="genero : ${video.VideoGeneros}" th:text="@{'#' + ${genero.nombre}}">
				    							</span>
											</div>
											<div th:class="@{be-rowline}">
												<div th:class="@{rowline-text}" th:text="${video.descripcion}">
													<span th:class="@{rowline-icon}"></span>
												</div>
											</div>
											<div th:class="@{be-rowline}">
												<i th:class="@{fa fa-calendar}">
													<span th:class="@{custom-td-font}"></span>
													<span th:class="@{rowline-text}" th:text="${#dates.format(video.creacion, 'dd-MM-yyyy HH:mm')}"></span>
												</i>
											</div>
											<div th:class="@{author-post}" th:switch="${video.usuario.foto}">
												<a th:case="'img/ava_10.jpg'" th:href="@{'/usuarios/perfil/' + ${usuario.id} + '/' + ${video.usuario.id}}">
													<img th:src="@{/img/ava_10.jpg}" alt="author" th:class="@{ava-author}">
													<span>by <i th:text="${video.usuario.nombre}"></i></span>
												</a>
												<a th:case="*" th:href="@{'/usuarios/perfil/' + ${usuario.id} + '/' + ${video.usuario.id}}">
													<img th:src="@{'/usuarios/fotos/' + ${video.usuario.foto}}" alt="author" th:class="@{ava-author}">
													<span>by <i th:text="${video.usuario.nombre}"></i></span>
												</a>
												<span th:class="@{pull-right}">
													<i th:class="@{stat-icon icon-like-b}"></i> 225 
													<i th:class="@{stat-icon icon-views-b}"></i> 225
												</span>
											</div>
										</div>
									</div>
	                            </div>                         
	                        </div>
	                    </div> 				
					</div>				
				</div>
			</div>
		</div>
	</div>
	<!-- THE FOOTER -->
	<div th:include="footer :: div"></div>
</body>
</html>